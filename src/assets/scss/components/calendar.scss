@import "../mixins&vars";
@import "./calendarHeader";

#fitbase-widget {
  &.touch {
	.wrapper {
	  .calendar {
		.fc .fc-scroller-harness-liquid {
		  min-height: 100vh;
		}

		.fc-daygrid-day-events {
		  padding: 0 16px;
		}

		.fc-scrollgrid-section-header {
		  display: none !important;
		}

		.fc-col-header tbody tr {
		  height: 134px;

		  th {
			padding-top: 15px;
			vertical-align: unset;
		  }
		}

		.fc-col-header_day_title {
		  display: flex;
		  font-weight: 500;
		  font-size: 15px;
		  line-height: 24px;
		}

		.fc-day-today {
		  color: $blue;
		  font-weight: 600;
		}
	  }

	  .fc-toolbar-chunk {
		.fc-button {
		  &.fc-prev-button {
			position: static;
		  }

		  &.fc-next-button {
			position: static;
		  }
		}
	  }
	}
  }

  &.desktop {
	.wrapper {
	  .calendar {
		flex: 1;
		margin-top: 0;

		.fc-timegrid-slot.fc-timegrid-slot-label.fc-scrollgrid-shrink {
		  opacity: 0;
		  transition: opacity .5s;
		  width: 60px !important;
		  display: flex;
		  height: 100%;
		  justify-content: center;
		  align-items: center;

		  &.show {
			opacity: 1;
		  }
		}

		.fc-scrollgrid.fc-scrollgrid-liquid {
		  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05)
		}

		.no_events_msg {
		  font-size: 19px;
		  height: 100%;
		  align-items: center;

		  &_wrapper {
			height: 100%;
		  }
		}

		.fc-header-toolbar {
		  top: 55px;
		  width: 1297px;
		}

		.fc-toolbar-chunk {
		  .fc-button {
			&.fc-prev-button {
			  position: absolute;
			  top: -25px;
			  left: 57px;
			}

			&.fc-next-button {
			  position: absolute;
			  top: -25px;
			  right: -15px;
			}
		  }
		}

		.fc-view-harness {
		  min-width: 1298px;
		  height: auto !important;
		}

		.fc-col-header_day_title {
		  &_top {
			color: $grayMainLight;

			.day-number, .month {
			  font-weight: 400;
			  font-size: 15px;
			  line-height: 22px;
			}
		  }

		  &_bottom {
			.day {
			  text-transform: capitalize;
			  font-weight: 400;
			  font-size: 16px;
			}
		  }
		}

		.fc-day-today {
		  .fc-col-header_day_title {
			background-color: $lightBlueLight;
			border-radius: 10px;
			padding: 11px 22px;

			.day {
			  color: $blue;
			  font-weight: 600;
			}
		  }
		}
	  }
	}
  }

  &.desktop_sm {
	.wrapper {
	  .calendar {
		width: 100%;

		.fc-timegrid-event-harness {
		  height: 185px !important;
		}

		.fc-header-toolbar {
		  width: 100%;
		}

		.fc-view-harness {
		  min-width: auto;
		}

		.fc-col-header {
		  width: 100% !important;
		}

		.fc-header-toolbar {
		  width: 100% !important;
		}

		.fc-toolbar-chunk {
		  .fc-button {
			&.fc-next-button {
			  right: -8px;
			}
		  }
		}
	  }
	}
  }

  &.dark {
	.fc-media-screen .fc-timegrid-event {
	  background-color: $cardBgDark;
	}

	.fc-timegrid-slot-label-cushion {
	  color: $white;
	}

	.fc-scrollgrid {
	  tbody {
		background-color: $bgDark;
	  }
	}

	.fc-timegrid-slot.fc-timegrid-slot-label.fc-scrollgrid-shrink {
	  background-color: $calendarWrapperDark;
	}

	.fc-timegrid-axis {
	  background-color: $calendarWrapperDark;

	  &:after {
		background-color: $calendarInnerBgDark;
	  }
	}

	.fc-col-header-cell {
	  background-color: $calendarWrapperDark;
	}

	.fc-col-header {
	  border-bottom-color: $calendarInnerBgDark;
	}

	.fc-timegrid-body .fc-timegrid-slots table tbody tr {
	  border-bottom-color: $calendarInnerBgDark !important;
	}

	.fc-scrollgrid tbody {
	  background-color: $calendarInnerBgDark;
	}

	&.desktop {
	  .wrapper {
		.calendar {
		  .fc-day-today {
			.fc-col-header_day_title {
			  .day {
				color: $white;
			  }
			}
		  }
		}
	  }
	}

	.fc-day-today {
	  .fc-col-header_day_title {
		background-color: $blue !important;

		.day-number, .month, .day {
		  color: $white;
		}
	  }
	}

	.fc-toolbar-chunk .fc-button .fc-icon {
	  color: $white;
	}

	.no_events_msg {
	  color: $white;
	}
  }

  .fc-theme-standard td, .fc-theme-standard th {
	border: 0 !important;
  }

  .wrapper {
	.calendar {
	  .fc .fc-timegrid-slot-minor {
		display: none !important;
	  }

	  .fc-scrollgrid-sync-table {
		height: inherit !important;
	  }

	  .fc-scroller-liquid-absolute {
		height: auto !important;
		overflow-x: unset !important;
		overflow-y: unset !important;
		position: static !important;
	  }
	}
  }

  .calendar {
	position: relative;

	//сообщение что нет ивентов
	.no_events_msg {
	  font-size: 16px;
	  width: 100%;
	  display: flex;
	  justify-content: center;

	  &_wrapper {
		width: 100%;
		position: absolute;
		top: 0;
		left: 0;
		z-index: 1;
	  }
	}
  }

  .fc-scrollgrid-section.fc-scrollgrid-section-body.fc-scrollgrid-section-liquid {
	border: 0;
  }

  .fc-header-toolbar {
	position: absolute;
	z-index: 3;
	margin-bottom: 0;
  }

  .fc-toolbar-chunk {
	.fc-button {
	  background: transparent;
	  padding: 0;
	  border: 0;

	  .fc-icon {
		color: $grayMainLight;
		font-size: 2em
	  }

	  &.fc-prev-button, &.fc-next-button {
		display: none;

		&.show {
		  display: block;
		}

		&.hidden {
		  display: none !important;
		}
	  }
	}
  }

  .fc .fc-button-primary:focus {
	box-shadow: none !important;
  }

  .fc .fc-button-primary:not(:disabled):active,
  .fc .fc-button-primary:not(:disabled).fc-button-active {
	border: 0;
	box-shadow: none;
	background-color: transparent;
  }

  .fc-media-screen .fc-timegrid-cols > table {
	height: auto;
  }

  .fc-col-header {
	border-bottom: 4px solid $bgLight;
  }

  .fc-col-header tbody tr {
	height: 92px;

	th {
	  vertical-align: middle;
	}
  }

  .fc-col-header_day_title {
	&_top {
	  display: flex;
	  justify-content: center;
	}
  }

  .fc-timegrid-axis {
	border: 0 !important;
	background-color: $white;
	position: relative;
	width: 61px;
	display: flex;
	height: 100%;

	&:after {
	  content: '';
	  background-color: $gray;
	  height: 100%;
	  width: 3px;
	  position: absolute;
	  right: -2px;
	}
  }

  .fc-scrollgrid {
	border: 0 !important;

	tbody {
	  background-color: $bgLight;
	}
  }

  .fc-col-header-cell {
	background-color: #fff;

	&.fc-day {
	  border: 0;

	  &.fc-day-mon {
		border-left: 3px solid $bgLight;
	  }
	}
  }

  .fc .fc-timegrid-slot-label {
	background-color: #fff;
  }

  .fc-scroller-harness .fc-scroller {
	overflow-y: visible !important;
  }

  .fc-timegrid-event-harness {
	transition: opacity .5s;
	width: 180px !important;
	height: 165px !important;

	visibility: visible;
	opacity: 1;
	left: 0 !important;
	cursor: pointer;
  }

  .fc-timegrid-event-harness.hide {
	visibility: hidden;
	opacity: 0;
  }

  .slot-attributes {
	left: 0 !important;
	height: 165px !important;
	margin-right: 0 !important;
  }

  .fc .fc-timegrid-slot {
	border: 0;
  }

  .fc-timegrid-col.fc-day-today {
	background-color: #f8f8f8 !important;
  }

  .fc-media-screen .fc-timegrid-event {
	box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
	border-radius: 6px;
	background-color: #fff;
	top: 0 !important;
	border: none;
  }

  .fc-v-event {
	border: none;
  }

  .clock_icon {
	top: 30px;
	z-index: 4;
	left: 10px;
	max-width: 30px;
	position: absolute;
  }
}
